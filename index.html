<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ðŸ’¬ Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„Ø²ÙˆØ§Ø±</title>
<style>
body {
  background: transparent;
  font-family: "Tajawal", sans-serif;
  margin: 0;
  padding: 0;
  color: #fff;
}

/* ðŸ’¬ Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© */
#chat-container {
  width: 300px;
  height: 400px;
  background: rgba(0,0,0,0.25);
  border: 1px solid rgba(255,255,255,0.3);
  border-radius: 12px;
  padding: 6px;
  box-shadow: 0 0 10px rgba(255,255,255,0.2);
  backdrop-filter: blur(4px);
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  cursor: grab;
  z-index: 9999;
  display: none;
  transition: all 0.3s ease;
}

/* Ø´Ø§Ø´Ø© Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ */
#email-screen {
  width: 300px;
  background: rgba(0,0,0,0.25);
  border: 1px solid rgba(255,255,255,0.3);
  border-radius: 12px;
  padding: 10px;
  text-align: center;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: #fff;
  box-shadow: 0 0 10px rgba(255,255,255,0.3);
  backdrop-filter: blur(5px);
  z-index: 10000;
  cursor: grab;
}

#email-screen input {
  width: 90%;
  padding: 6px;
  border-radius: 5px;
  border: 1px solid rgba(255,255,255,0.3);
  background: rgba(0,0,0,0.3);
  color: #fff;
  margin-top: 5px;
  font-size: 12px;
}

#email-screen button {
  margin-top: 6px;
  padding: 6px 10px;
  border: none;
  border-radius: 5px;
  background: rgba(0,200,255,0.8);
  color: #fff;
  cursor: pointer;
  transition: background 0.3s;
  font-size: 12px;
}

#email-screen button:hover {
  background: rgba(0,255,255,0.9);
}

#email-note {
  margin-top: 5px;
  font-size: 11px;
  color: rgba(255,255,255,0.7);
}

/* iframe Chatango */
#chat-container iframe {
  width: 100%;
  height: 100%;
  border: none;
  overflow: hidden;
}
</style>
</head>
<body>

<!-- Ø´Ø§Ø´Ø© Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ -->
<div id="email-screen">
  <h4>Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</h4>
  <input type="email" id="user-email" placeholder="example@email.com">
  <button id="email-submit">Ù…ØªØ§Ø¨Ø¹Ø©</button>
  <p id="email-note">(Ø¨Ø« ØªØ¬Ø±ÙŠØ¨ÙŠ Ù„Ù„Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„Ø²ÙˆØ§Ø±)</p>
</div>

<!-- ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Chatango -->
<div id="chat-container">
  <script id="cid0020000420818486480" data-cfasync="false" async 
  src="//st.chatango.com/js/gz/emb.js" 
  style="width: 100%; height: 100%;">
  {"handle":"sakakera","arch":"js","styles":{"a":"CC0000","b":100,"c":"FFFFFF","d":"FFFFFF","k":"CC0000","l":"CC0000","m":"CC0000","n":"FFFFFF","p":"10","q":"CC0000","r":100,"cv":1,"cvbg":"CC0000","cvw":75,"cvh":30}}
  </script>
</div>

<script>
const emailScreen = document.getElementById('email-screen');
const chatContainer = document.getElementById('chat-container');
const emailInput = document.getElementById('user-email');
const emailButton = document.getElementById('email-submit');

// Ø¹Ù†Ø¯ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ØŒ Ø¹Ø±Ø¶ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©
emailButton.onclick = () => {
  if(emailInput.value.trim() === '') { alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯ ØµØ­ÙŠØ­'); return; }
  emailScreen.style.display = 'none';
  chatContainer.style.display = 'block';
};

// ===== Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ Ù„Ù„Ø¯Ø±Ø¯Ø´Ø© ÙˆØ§Ù„Ø¨Ø±ÙŠØ¯ =====
function makeDraggable(element){
  let isDragging=false, offsetX=0, offsetY=0;

  element.addEventListener('mousedown', startDrag);
  element.addEventListener('touchstart', startDrag);

  function startDrag(e){
    isDragging=true;
    const rect=element.getBoundingClientRect();
    const clientX=e.touches ? e.touches[0].clientX : e.clientX;
    const clientY=e.touches ? e.touches[0].clientY : e.clientY;
    offsetX=clientX - rect.left;
    offsetY=clientY - rect.top;
    element.style.transform='none';
    element.style.cursor='grabbing';
  }

  function drag(e){
    if(!isDragging) return;
    e.preventDefault();
    const clientX=e.touches ? e.touches[0].clientX : e.clientX;
    const clientY=e.touches ? e.touches[0].clientY : e.clientY;
    element.style.left=`${clientX - offsetX}px`;
    element.style.top=`${clientY - offsetY}px`;
  }

  function endDrag(){
    isDragging=false;
    element.style.cursor='grab';
  }

  document.addEventListener('mousemove', drag);
  document.addEventListener('touchmove', drag,{passive:false});
  document.addEventListener('mouseup', endDrag);
  document.addEventListener('touchend', endDrag);
}

// ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø­Ø¨ Ø¹Ù„Ù‰ ÙƒÙ„ Ù…Ù† Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© ÙˆØ§Ù„Ø¨Ø±ÙŠØ¯
makeDraggable(chatContainer);
makeDraggable(emailScreen);
</script>
</body>
</html>
