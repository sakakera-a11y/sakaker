<!DOCTYPE html>

<!-- الفيديو الرئيسي -->
<div class="video-icon" onclick="openModal('n7eQejkXbnM')">
  <img src="https://img.youtube.com/vi/n7eQejkXbnM/hqdefault.jpg" alt="Thumbnail">
  <div class="play-button">▶</div>
</div>

<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>موقعي</title>
<style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: url('https://cdn.pixabay.com/photo/2017/01/20/00/30/beach-1993704_1280.jpg') no-repeat center center fixed;
      background-size: cover;
      color: #fff;
      text-align:center;
    }
    .video-section {
      display:flex;
      justify-content:center;
      gap:20px;
      flex-wrap:wrap;
      margin-top:20px;
    }
    .video-icon iframe {
      width:250px;
      height:150px;
      border-radius:12px;
      border:2px solid #fff;
    }
    #pongContainer {
  position: relative;
  width: 90%;
  max-width: 400px;
  margin: 40px auto;
  border: 2px solid #333;
  border-radius: 12px;
  overflow: hidden;
  background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  box-shadow: 0 0 20px rgba(0,0,0,0.5);

      position: relative;
      width: 100%;
      max-width: 600px;
      margin: 20px auto;
      border: 2px solid #333;
      border-radius: 10px;
      overflow: hidden;
      background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    }
    #pongCanvas {
  width: 100%;
  height: 300px;
  display: block;
  background: #000;

      width: 100%;
      height: 400px;
      display: block;
    }
    .footer-left {
      margin: 20px;
      text-align:left;
      background: rgba(0,0,0,0.6);
      padding: 15px;
      border-radius: 10px;
      color:#fff;
      max-width:250px;
    }
    .footer-left a { color:#ffd700; text-decoration:none; }
    #cvIcon {
      margin-top:10px;
      padding:8px;
      background:rgba(255,255,255,0.1);
      border:1px solid #fff;
      border-radius:6px;
      cursor:pointer;
    }
    #cvPage { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:#000; overflow:auto; padding:20px; z-index:1000; color:#fff; }
    #cvPage .cv-content { max-width:900px; margin:40px auto; background:#111; padding:20px; border-radius:10px; }
  
/* تحسين استجابة لعبة بينج بونج */
#pongCanvas {
  width: 100%;
  height: 400px; /* للحواسب */
  display: block;
  background: #000;
}

@media(max-width:600px){
  #pongCanvas {
    height: 220px; /* حجم أصغر للجوال */
  }
  #pongContainer {
    max-width: 95%;
  }
}

.hidden-icons {
  display: none !important;
}
</style>
</head>
<body>
<!-- اللعبة -->

<button id="startBtn">▶</button>
<div id="levelMsg"></div>
<div id="pongUi" style="display:none;">
<div id="pongScore">أنت: <span id="scoreP">0</span> — خصم: <span id="scoreA">0</span><br/><span id="levelLabel">المستوى: 1</span></div>
<button id="pongPauseBtn">⏸ إيقاف</button> <button id="pongRestartBtn">🔄 إعادة</button>
<button id="pongCloseBtn">إغلاق</button>
</div>
<canvas id="pongCanvas"></canvas>
</div>
<!-- إدخال المحتوى الأصلي -->
<div style="margin:20px; text-align:right;">
<style>
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>خلفية فيديو ممتدة</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
    }

    #player-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      overflow: hidden;
    }

    #player {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 120%;
      height: 120%;
      pointer-events: none;
    }

    .controls {
      position: fixed;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      z-index: 999;
    }

    button {
      padding: 6px 10px;
      border: none;
      border-radius: 6px;
     #pongCanvas {
  background: transparent !important;
}

      color: white;
      cursor: pointer;
      font-size: 14px;
    }

    button:hover {
      background: rgba(255,255,255,0.3);
    }

    @media (max-width: 600px) {
      button {
        font-size: 12px;
        padding: 5px 8px;
      }
      .controls {
        gap: 4px;
        bottom: 8px;
      }
    }
  </style>
<body>
<div id="player-container">
<div id="player"></div>
</div>
<div class="controls">
<button onclick="playPause()">⏯</button>
<button onclick="muteUnmute()">🔊</button>
<button onclick="volumeUp()">🔼</button>
<button onclick="volumeDown()">🔽</button>
</div>
<script src="https://www.youtube.com/iframe_api"></script>
<script>
  let player;
  let currentVolume = 50;

  function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
      videoId: 'YFmV_MRSD7M', // الفيديو الجديد
      playerVars: {
        autoplay: 1,
        mute: 1,
        loop: 1,
        playlist: 'YFmV_MRSD7M',
        controls: 0,
        showinfo: 0,
        modestbranding: 1
      },
      events: {
        onReady: (event) => {
          player.setVolume(currentVolume);
          event.target.playVideo();
        }
      }
    });
  }

  function playPause() {
    if (player.getPlayerState() === 1) {
      player.pauseVideo();
    } else {
      player.playVideo();
    }
  }

  function muteUnmute() {
    if (player.isMuted()) {
      player.unMute();
    } else {
      player.mute();
    }
  }

  function volumeUp() {
    if (currentVolume < 100) {
      currentVolume += 10;
      player.setVolume(currentVolume);
    }
  }

  function volumeDown() {
    if (currentVolume > 0) {
      currentVolume -= 10;
      player.setVolume(currentVolume);
    }
  }
</script>
</body>
</div>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>صفحة البحر - أبوالقمر زمرد (محدث)</title>
<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: url('https://cdn.pixabay.com/photo/2017/01/20/00/30/beach-1993704_1280.jpg') no-repeat center center fixed;
    background-size: cover;
    color: #fff;
    text-align:center;
}

/* فيديو دائري */
.video-icon {
    position: relative;
    width: 150px;
    height: 150px;
    border-radius: 50%;
    overflow: hidden;
    cursor: pointer;
    border: 3px solid #fff;
    margin: 20px auto 10px auto;
    display: flex;
    justify-content: center;
    align-items: center;
}
.video-icon img { width:100%; height:100%; object-fit:cover; }
.play-button { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:36px; color:white; text-shadow:1px 1px 3px #000; pointer-events:none; }

/* مودال الفيديو */
.modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.8); justify-content:center; align-items:center; z-index:999;}
.modal-content { width:90%; max-width:900px; }
.modal-content iframe { width:100%; height:80vh; border:none; }
.close { color:#fff; font-size:30px; font-weight:bold; position:absolute; top:20px; right:30px; cursor:pointer; }

/* أيقونات المكتبات */
.icons-row { display:flex; flex-wrap: wrap; justify-content:center; gap:15px; margin:20px auto; }
.library-col { display:flex; flex-direction:column; align-items:center; }
.icon-circle { width:100px; height:100px; border-radius:50%; background: rgba(255,255,255,0.12); display:flex; justify-content:center; align-items:center; text-align:center; font-size:12px; font-weight:bold; cursor:pointer; transition:0.2s; padding:8px; box-sizing:border-box; color: green; }
.icon-circle:hover { background: rgba(255,255,255,0.2); transform: translateY(-3px); }

/* أيقونات مكتبة فرعية */
.library-content { display:none; flex-wrap:wrap; justify-content:center; gap:10px; margin-top:10px; }
/* أيقونات مكتبة فرعية */
.library-content { display:none; flex-wrap:wrap; justify-content:center; gap:10px; margin-top:10px; }

/* سيرة ذاتية */
#cvIcon { text-align:center; margin:20px auto; width:150px; height:120px; background: rgba(255,255,255,0.05); border:2px solid #fff; border-radius:15px; display:flex; justify-content:center; align-items:center; text-align:center; font-weight:bold; cursor:pointer; transition:0.3s; }
#cvIcon:hover { background: rgba(255,255,255,0.1); transform: scale(1.02); }
#pongCanvas {
  background: url('https://cdn.pixabay.com/photo/2017/01/20/00/30/beach-1993704_1280.jpg') no-repeat center center;
  background-size: cover;
}

/* زر صوت الطيور */
#bird-sound-btn { position: fixed; top: 10px; left: 10px; font-size: 24px; cursor: pointer; z-index: 1000; text-align:center; }

/* قائمة الدعم */
.footer-menu { text-align:center; background: rgba(0,0,0,0.6); padding: 15px; border-radius: 10px; margin:20px; color:#fff; }
.footer-menu a { color:#ffd700; text-decoration:none; }

/* خواطر - تنسيقات جديدة */
#storyModal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.85); overflow:auto; z-index:1500; padding:30px 10px; }
#storyModal .content { max-width:900px; margin:20px auto; text-align:right; color:#fff; }

.story-title {
  cursor: pointer;
  font-weight: bold;
  margin: 12px 0 8px 0;
  color: #fff;
  background: rgba(0,0,0,0.45);
  padding: 10px 14px;
  border-radius: 8px;
  transition: 0.25s;
  text-align:right;
  border: 1px solid rgba(255,255,255,0.08);
}
.story-title:hover { background: rgba(76,175,80,0.18); transform: translateY(-2px); }

.story {
  display: none;
  margin: 10px auto 20px auto;
  padding: 18px;
  border: 2px solid rgba(76,175,80,0.95);   /* برواز أخضر */
  border-radius: 12px;
  background: linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.3));
  max-width: 820px;
  text-align: right;
  box-shadow: 0 6px 18px rgba(0,0,0,0.6);
}

.story p {
  color: #c8f7d1;   /* نص أخضر فاتح مناسب على الخلفية */
  line-height: 1.9;
  margin: 8px 0;
  font-size: 16px;
}

/* responsive */
@media(max-width:600px){
    .icon-circle{width:80px;height:80px;font-size:10px;} 
    .video-icon{width:120px;height:120px;} 
    .modal-content iframe{height:60vh;} 
    #cvIcon { width:90%; }
    .footer-menu { width:90%; margin:10px auto; }
    #storyModal { padding:12px 6px; }
    .story { padding:12px; }
}
</style>

<!-- بداية تعديلات الاستجابة الأفقية للموبايل -->
<style>
/* Force horizontal scrollable icons on small screens and centered wrap on larger */
.icons-row{
  display:flex;
  gap:12px;
  justify-content:flex-start;
  align-items:center;
  margin:12px;
  padding:8px 6px;
  overflow-x:auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}
.icons-row::-webkit-scrollbar { display: none; }

.icon-circle{ flex: 0 0 auto; }

/* Make sure library-content subicons appear below when opened and are touch-friendly */
.library-content{ display:none; gap:10px; margin-top:10px; }

/* Larger screens: center and allow wrap */
@media(min-width:601px){
  .icons-row{ justify-content:center; flex-wrap:wrap; overflow:visible; }
  .icon-circle{ width:100px; height:100px; }
}

/* Mobile screens: keep icons horizontal, slightly smaller and easier to tap */
@media(max-width:600px){
  .icon-circle{ width:80px; height:80px; font-size:11px; padding:6px; }
  .video-icon{ width:120px; height:120px; }
  .modal-content iframe{ height:60vh; }
  #cvIcon{ width:90%; }
  .footer-menu{ width:90%; margin:10px auto; }
  /* When sub-library opens, show as a horizontal row under the icons area */
  .library-content{ display:flex; flex-wrap:nowrap; gap:8px; padding:6px; background: rgba(0,0,0,0.18); border-radius:10px; margin-top:8px; }
  .library-content .icon-circle{ width:68px; height:68px; font-size:10px; }
}
</style>
<!-- نهاية التعديلات -->
</head>
<body>

<!-- صوت الطيور -->
<div id="bird-sound-btn" title="تشغيل/إيقاف صوت الطيور">🐦</div>
<audio id="bird-sound" loop>
  <source src="https://www.orangefreesounds.com/wp-content/uploads/2016/04/Birds-chirping-and-water-flowing.mp3" type="audio/mp3">
</audio>

<!-- أيقونات المكتبات أفقي تحت الفيديو -->
<div class="icons-row">
  <!-- مكتبات كما في الأصل -->

<!-- إضافة مودال الدردشة في نهاية الصفحة (ضمن نفس الملف) -->
<div id="chatModal" class="modal" style="z-index:1600;">
  <span class="close" onclick="document.getElementById('chatModal').style.display='none'">×</span>
  <div class="modal-content" style="max-width:420px; background: rgba(0,0,0,0.95); padding:12px; display:flex; flex-direction:column; height:420px;">
    <h3 style="color:#fff; text-align:center; margin:6px 0;">💬 دردشة عامة مؤقتة</h3>
    <div id="chatMessages" style="flex:1; overflow-y:auto; background:#111; padding:10px; border-radius:6px; color:#fff; margin-bottom:8px;"></div>
    <input id="chatInput" type="text" placeholder="اكتب رسالتك..." style="padding:10px; border-radius:6px; border:none; width:100%; box-sizing:border-box; margin-bottom:8px;">
    <button onclick="sendMessage()" style="padding:10px; border-radius:6px; border:none; background:#4caf50; color:#fff; cursor:pointer;">إرسال</button>
    <small style="color:#ccc; margin-top:6px; text-align:center;">الرسائل مؤقتة وتحذف تلقائياً بعد 60 ثانية</small>
  </div>
</div>

<script>
/* فتح الفيديو */
function openVideo(url){
  var modal = document.getElementById('videoModal');
  var frame = document.getElementById('videoFrame');
  modal.style.display = 'flex';
  frame.src = url + (url.includes('?') ? '&autoplay=1' : '?autoplay=1');
}
function openModal(videoId){ openVideo('https://www.youtube.com/embed/' + videoId); }
function closeVideo(){ var modal = document.getElementById('videoModal'); var frame=document.getElementById('videoFrame'); modal.style.display='none'; frame.src=''; }

/* صوت الطيور */
const birdBtn=document.getElementById('bird-sound-btn');
const birdAudio=document.getElementById('bird-sound');
birdBtn.addEventListener('click',()=>{ if(birdAudio.paused){ birdAudio.play(); birdBtn.style.opacity=0.8; } else { birdAudio.pause(); birdBtn.style.opacity=1; } });

/* مكتبات */
function toggleLibrary(id){
  var el=document.getElementById(id);
  if(!el) return;
  el.style.display = (el.style.display==='flex') ? 'none' : 'flex';
}

/* خواطر */
function toggleStory(id){
  var s=document.getElementById(id);
  if(s) s.style.display = (s.style.display==='block') ? 'none' : 'block';
}

/* دردشة مؤقتة داخل نفس الملف */
function sendMessage(){
  var input = document.getElementById('chatInput');
  var messages = document.getElementById('chatMessages');
  var text = input.value.trim();
  if(text === '') return;
  var p = document.createElement('div');
  p.textContent = text;
  p.style.margin = '6px 0';
  p.style.padding = '8px';
  p.style.background = '#222';
  p.style.borderRadius = '6px';
  p.style.color = '#fff';
  p.style.textAlign = 'right';
  messages.appendChild(p);
  messages.scrollTop = messages.scrollHeight;
  input.value = '';
  // حذف الرسالة بعد 60 ثانية
  setTimeout(function(){ if(p.parentNode) p.parentNode.removeChild(p); }, 60000);
}
</script>

</body>
</html>
<script>
document.addEventListener("DOMContentLoaded", function() {
  const icons = document.querySelectorAll('.icon-circle');
  const floatInterval = 3000;
  const originalPositions = new Map();

  // الأيقونات الرئيسية عائمة أسفل الصفحة
  icons.forEach(icon => {
    icon.style.position = "fixed";
    icon.style.zIndex = 9999;
    originalPositions.set(icon, {top: icon.offsetTop, left: icon.offsetLeft});

    // تأكد أن الأيقونات الفرعية موجودة داخل كل أيقونة
    const subContainer = icon.querySelector('.sub-icons');
    if(subContainer){
      subContainer.style.position = 'absolute';
      subContainer.style.top = '100%'; // مباشرة تحت الأيقونة
      subContainer.style.left = '50%';
      subContainer.style.transform = 'translateX(-50%)';
      subContainer.style.display = 'none';
      subContainer.style.flexDirection = 'column';
      subContainer.style.gap = '5px';
      subContainer.style.zIndex = 10000;
    }
  });

  function random(min, max) {
    return Math.random() * (max - min) + min;
  }

  function floatIcons() {
    const containerWidth = window.innerWidth;
    const bottomLimit = window.innerHeight - 150;
    const topLimit = bottomLimit - 100;

    icons.forEach(icon => {
      if (!icon.classList.contains('active')) {
        const x = random(10, containerWidth - icon.offsetWidth - 10);
        const y = random(topLimit, bottomLimit);
        icon.style.top = y + "px";
        icon.style.left = x + "px";
        icon.style.transform = `rotate(${random(-15,15)}deg) scale(${random(0.9,1.1)})`;
        originalPositions.set(icon, {top: y, left: x});
      }
    });
  }

  floatIcons();
  setInterval(floatIcons, floatInterval);

  icons.forEach(icon => {
    icon.addEventListener('click', (e) => {
      e.stopPropagation();

      // إزالة حالة النشاط من كل الأيقونات
      icons.forEach(i => i.classList.remove('active'));
      icon.classList.add('active');

      // إخفاء أيقونات فرعية الأخرى
      document.querySelectorAll('.icon-circle .sub-icons').forEach(sub => {
        if(sub.parentElement !== icon) sub.style.display = 'none';
      });

      // عرض الأيقونات الفرعية للأيقونة الحالية
      const sub = icon.querySelector('.sub-icons');
      if(sub) sub.style.display = (sub.style.display === 'flex') ? 'none' : 'flex';
    });
  });

  // إخفاء أي قائمة فرعية عند الضغط خارجها
  document.addEventListener('click', () => {
    document.querySelectorAll('.icon-circle .sub-icons').forEach(sub => sub.style.display = 'none');
    icons.forEach(i => i.classList.remove('active'));
  });
});
</script>

<style>
.icon-circle {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background: #4CAF50;
  color: white;
  text-align: center;
  line-height: 60px;
  cursor: pointer;
  transition: all 0.5s ease;
  font-weight: bold;
}

.icon-circle .sub-icons button {
  width: 50px;
  height: 40px;
  border-radius: 5px;
  background: rgba(0,0,0,0.6);
  color: white;
  border: none;
  cursor: pointer;
}

.icon-circle .sub-icons button:hover {
  background: rgba(33,150,243,0.8);
}
</style>

  <canvas id="pongCanvas"></canvas>
</div>

<audio id="hitSound" preload="auto" src="https://www.soundjay.com/button/sounds/button-16.mp3"></audio>
<audio id="scoreSound" preload="auto" src="https://www.soundjay.com/button/sounds/button-10.mp3"></audio>

<style>
#pongContainer { position: relative; width: 95%; max-width: 350px; margin: 20px auto; text-align: center; }
#pongCanvas { width: 100%; height: 200px; background: transparent; display: block; margin-top: 10px; border-radius: 12px; }
#pongUi button { margin: 3px; padding: 4px 10px; border-radius: 6px; border: none; background: rgba(0,0,0,0.6); color: #fff; cursor: pointer; font-size: 12px; }
#levelMsg { display: none; text-align: center; font-weight: bold; font-size: 14px; }
</style>

<script>
(function(){
  const canvas = document.getElementById('pongCanvas');
  const ctx = canvas.getContext('2d');

  const scoreP_el = document.getElementById('scoreP');
  const scoreA_el = document.getElementById('scoreA');
  const pauseBtn = document.getElementById('pongPauseBtn');
  const closeBtn = document.getElementById('pongCloseBtn');
  const startBtn = document.getElementById('startBtn');
  const ui = document.getElementById('pongUi');
  const levelMsg = document.getElementById('levelMsg');

  // **أيقونات الفيديو أسفل الصفحة**
  const controls = document.querySelector('.controls'); // إذا كانت لديك أيقونات الفيديو في div.controls
  const playerContainer = document.getElementById('player-container'); // الفيديو أسفل الصفحة

  let state = { running:false, playerScore:0, aiScore:0, level:1 };
  const paddle = { w:60, h:8, x:0, y:0 };
  const ai = { w:60, h:8, x:0, y:0, speed:4 };
  const ball = { x:0,y:0,r:6,vx:0,vy:0,speed:3 };

  let colors = [
    {paddle:'#4dd0e1', ai:'#ff5252', ball:'#ffeb3b'},
    {paddle:'#ff9800', ai:'#9c27b0', ball:'#4caf50'},
    {paddle:'#2196f3', ai:'#f44336', ball:'#e91e63'},
    {paddle:'#00bcd4', ai:'#ffc107', ball:'#8bc34a'},
    {paddle:'#ff5722', ai:'#3f51b5', ball:'#ffeb3b'}
  ];

  function fitCanvas(){ canvas.width=canvas.clientWidth; canvas.height=canvas.clientHeight; }
  fitCanvas();
  window.addEventListener('resize', fitCanvas);

  function resetPositions(){
    paddle.x=(canvas.width-paddle.w)/2; paddle.y=canvas.height-15;
    ai.x=(canvas.width-ai.w)/2; ai.y=5;
    ball.x=canvas.width/2; ball.y=canvas.height/2;
    const dirX=(Math.random()<0.5?-1:1);
    const dirY=(Math.random()<0.5?-1:1);
    ball.vx=dirX*ball.speed; ball.vy=dirY*ball.speed;
  }

  function pointerMove(x){
    const rect = canvas.getBoundingClientRect();
    const cx = x-rect.left;
    paddle.x = Math.min(Math.max(0, cx-paddle.w/2), canvas.width-paddle.w);
  }
  canvas.addEventListener('mousemove', e=>pointerMove(e.clientX));
  canvas.addEventListener('touchmove', e=>{ e.preventDefault(); pointerMove(e.touches[0].clientX); }, {passive:false});

  function showLevelMessage(msg, lvl){
    levelMsg.textContent=msg;
    levelMsg.style.display='block';
    levelMsg.style.background='rgba(0,0,0,0.7)';
    levelMsg.style.padding='6px 10px';
    levelMsg.style.margin='8px auto';
    levelMsg.style.borderRadius='6px';
    setTimeout(()=>{ levelMsg.style.display='none'; },1500);

    let c = colors[(lvl-1)%colors.length];
    paddle.color = c.paddle; ai.color = c.ai; ball.color = c.ball;
  }

  paddle.color = colors[0].paddle; ai.color = colors[0].ai; ball.color = colors[0].ball;

  function update(){
    if(!state.running) return;
    ball.x+=ball.vx; ball.y+=ball.vy;
    if(ball.x-ball.r<0||ball.x+ball.r>canvas.width) ball.vx*=-1;

    if(ball.y+ball.r>=paddle.y && ball.x>=paddle.x && ball.x<=paddle.x+paddle.w){ 
      ball.vy=-Math.abs(ball.vy); document.getElementById('hitSound').play();
    }
    if(ball.y-ball.r<=ai.y+ai.h && ball.x>=ai.x && ball.x<=ai.x+ai.w){ 
      ball.vy=Math.abs(ball.vy); document.getElementById('hitSound').play();
    }

    if(ball.y-ball.r>canvas.height){ 
      state.aiScore++; scoreA_el.textContent=state.aiScore; document.getElementById('scoreSound').play();
      resetPositions(); 
    }
    if(ball.y+ball.r<0){ 
      state.playerScore++; scoreP_el.textContent=state.playerScore; document.getElementById('scoreSound').play();
      if(state.playerScore % 5 === 0){ 
        state.level++;
        paddle.w=Math.max(30,paddle.w*0.9);
        ball.speed*=1.15;
        ai.speed+=0.5;
        showLevelMessage("🎯 مستوى جديد: " + state.level, state.level);
      }
      resetPositions(); 
    }

    ai.x += Math.sign(ball.x-(ai.x+ai.w/2))*ai.speed*0.9;
    ai.x = Math.max(0, Math.min(ai.x, canvas.width-ai.w));
  }

  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle=paddle.color; ctx.fillRect(paddle.x,paddle.y,paddle.w,paddle.h);
    ctx.fillStyle=ai.color; ctx.fillRect(ai.x,ai.y,ai.w,ai.h);
    ctx.beginPath(); ctx.fillStyle=ball.color; ctx.arc(ball.x,ball.y,ball.r,0,Math.PI*2); ctx.fill();
  }

  function loop(){ if(state.running){ update(); draw(); requestAnimationFrame(loop); } }

  pauseBtn.addEventListener('click', ()=>{ state.running=!state.running; if(state.running) loop(); });
  closeBtn.addEventListener('click', ()=>{
    state.running=false; 
    ui.style.display='none'; 
    startBtn.style.display='block'; 
    // إعادة إظهار الفيديو والأيقونات
    if(controls) controls.style.display='flex';
    if(playerContainer) playerContainer.style.display='block';
  });

  startBtn.addEventListener('click', ()=>{
    // إخفاء الفيديو والأيقونات
    if(controls) controls.style.display='none';
    if(playerContainer) playerContainer.style.display='none';

    startBtn.style.display='none'; 
    ui.style.display='flex'; 
    state.running=true; state.playerScore=0; state.aiScore=0; state.level=1; 
    paddle.w=60; ball.speed=3; ai.speed=4;
    paddle.color = colors[0].paddle; ai.color = colors[0].ai; ball.color = colors[0].ball;
    fitCanvas(); resetPositions(); loop();
  });

/* فتح المودال مع عنوان الحدث */
function openEventModalFromEl(el){
  let url = el.dataset.videoUrl;
  let title = el.dataset.eventTitle;
  document.getElementById('eventFrame').src = url + '&autoplay=1';
  document.getElementById('eventTitle').textContent = title;
  document.getElementById('eventModal').style.display = 'flex';
}
function closeEventModal(){
  document.getElementById('eventModal').style.display='none';
  document.getElementById('eventFrame').src='';
}
</script>
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>أيقونة لعبة بولينج</title>
<style>
  body {
    margin: 0;
    font-family: sans-serif;
    background: #111;
  }
  .icon-circle {
    width: 100px;
    height: 100px;
    background: red; /* لون أحمر */
    border-radius: 12px; /* مربع بحواف ناعمة */
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    color: white;
    font-weight: bold;
    font-size: 14px;
    text-align: center;
    position: absolute;
    transition: all 2s ease-in-out;
    z-index: 1;
  }
  .sub-icons {
    display: none;
    position: fixed;
    z-index: 9999;
    transition: all 0.5s ease-in-out;
  }
  #gameContainer {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: none;
    z-index: 10000;
    background: #222;
    border-radius: 10px;
    padding: 10px;
  }
  canvas {
    display: block;
    background: transparent; /* خلفية شفافة */
    border-radius: 10px;
  }
  button {
    margin: 5px;
    padding: 5px 10px;
    font-size: 14px;
    cursor: pointer;
    border: none;
    border-radius: 5px;
    background: #ff5722;
    color: white;
  }
</style>
</head>
<body>

<div class="icon-circle" id="icon">🎳 بولينج<br>إضغط للعب</div>

<div id="gameContainer">
  <canvas id="game" width="500" height="600"></canvas>
  <div>
    <button id="closeBtn">إغلاق</button>
    <button id="resetBtn">إعادة اللعب</button>
    <button id="levelBtn">المستوى التالي</button>
  </div>
  <div style="color:white; font-size:16px;">النقاط: <span id="scoreDisplay">0</span> | المستوى: <span id="levelDisplay">1</span></div>
</div>

<script>
const icons = document.querySelectorAll('.icon-circle');
let stopMovement = false; // حالة توقف الحركة

function random(min, max) {
  return Math.random() * (max - min) + min;
}

function floatIcons() {
  if (!stopMovement) {
    const containerWidth = document.documentElement.scrollWidth;
    const containerHeight = document.documentElement.scrollHeight;
    icons.forEach(icon => {
      if (!icon.classList.contains('active')) {
        const x = random(0, containerWidth - icon.offsetWidth);
        const y = random(0, containerHeight - icon.offsetHeight);
        const rotation = random(-15, 15);
        const scale = random(0.9, 1.1);
        icon.style.top = y + "px";
        icon.style.left = x + "px";
        icon.style.transform = `rotate(${rotation}deg) scale(${scale})`;
      }
    });
  }
}
floatIcons();
setInterval(floatIcons, 3000);

icons.forEach(icon => {
  icon.addEventListener('click', (e) => {
    e.stopPropagation();
    stopMovement = true;
    icons.forEach(i => i.classList.remove('active'));
    icon.classList.add('active');

    // عرض اللعبة عند الضغط على أيقونة البولينج
    if(icon.id === 'icon'){
      document.getElementById('gameContainer').style.display = 'block';
    }
  });
});

// إغلاق المودال واستئناف الحركة
document.getElementById('closeBtn').addEventListener('click', () => {
  document.getElementById('gameContainer').style.display = 'none';
  stopMovement = false;
});

document.addEventListener('click', () => {
  icons.forEach(i => i.classList.remove('active'));
  stopMovement = false;
});
</script>

<script>
// ===== كود لعبة البولينج =====
const icon = document.getElementById('icon');
const gameContainer = document.getElementById('gameContainer');
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
const closeBtn = document.getElementById('closeBtn');
const resetBtn = document.getElementById('resetBtn');
const levelBtn = document.getElementById('levelBtn');
const scoreDisplay = document.getElementById('scoreDisplay');
const levelDisplay = document.getElementById('levelDisplay');

let level = 1;
let score = 0;
let isRunning = false;
let ball = { x: 250, y: 550, radius: 10, dx: 0, dy: -5 };
let pins = [];

function createPins() {
  pins = [];
  let rows = 3 + level;
  for (let row = 0; row < rows; row++) {
    for (let col = 0; col <= row; col++) {
      pins.push({ x: 250 - row*15 + col*30, y: 50 + row*40, hit: false, effect: 0 });
    }
  }
}

function draw() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.beginPath();
  ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI*2);
  ctx.fillStyle = 'red';
  ctx.fill();
  ctx.closePath();

  pins.forEach(pin => {
    if (!pin.hit) {
      ctx.beginPath();
      ctx.arc(pin.x, pin.y, 10, 0, Math.PI*2);
      ctx.fillStyle = 'white';
      ctx.fill();
      ctx.closePath();
    } else if (pin.effect > 0) {
      ctx.beginPath();
      ctx.arc(pin.x, pin.y, 10, 0, Math.PI*2);
      ctx.fillStyle = 'orange';
      ctx.fill();
      ctx.closePath();
      pin.effect--;
    }
  });
}

function update() {
  ball.y += ball.dy - level*0.5;
  ball.x += ball.dx;

  pins.forEach(pin => {
    if (!pin.hit) {
      let dx = ball.x - pin.x;
      let dy = ball.y - pin.y;
      let distance = Math.sqrt(dx*dx + dy*dy);
      if (distance < ball.radius + 10) {
        pin.hit = true;
        pin.effect = 10;
        score++;
        scoreDisplay.textContent = score;
      }
    }
  });

  if (ball.y < 0) {
    ball.x = 250;
    ball.y = 550;
    ball.dx = 0;
    ball.dy = -5;
  }
}

function loop() {
  if (isRunning) {
    draw();
    update();
    requestAnimationFrame(loop);
  }
}

icon.addEventListener('click', () => {
  gameContainer.style.display = 'block';
  if(!isRunning){
    isRunning = true;
    createPins();
    loop();
  }
});

canvas.addEventListener('mousemove', e => {
  let rect = canvas.getBoundingClientRect();
  ball.x = e.clientX - rect.left;
});

document.addEventListener('keydown', e => {
  if (e.key === 'ArrowLeft') ball.x -= 10;
  if (e.key === 'ArrowRight') ball.x += 10;
});

resetBtn.addEventListener('click', () => {
  score = 0;
  scoreDisplay.textContent = score;
  ball.x = 250; ball.y = 550;
  createPins();
  if(!isRunning){ isRunning = true; loop(); }
});

levelBtn.addEventListener('click', () => {
  level++;
  levelDisplay.textContent = level;
  ball.x = 250; ball.y = 550;
  createPins();
});
</script>

</body>
</html>

<style>
.library-knowledge .icon-circle { background: rgba(255,0,0,0.25); color:#222; cursor:pointer; margin:5px; padding:10px; border-radius:50%; text-align:center; }
.library-knowledge .icon-circle:hover { background: rgba(255,0,0,0.35); }
.library-content { display:none; flex-wrap:wrap; justify-content:center; gap:10px; margin-top:10px; }
.modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.85); justify-content:center; align-items:center; z-index:999; overflow:auto;}
.modal-content { width:90%; max-width:300px; background: rgba(0,0,0,0.85); padding:20px; border-radius:10px; color:#fff; position:relative; }
.close { color:#fff; font-size:30px; font-weight:bold; position:absolute; top:20px; right:30px; cursor:pointer; }
</style>
<script>
function toggleLibrary(id){
  const content = document.getElementById(id);
  content.style.display = (content.style.display==='flex')?'none':'flex';
  content.style.flexWrap='wrap';
}
</script>
<!-- خواطر (s5 أول قصة) -->
<div id="storyModal">
<div class="content">
<button class="close-btn" onclick="document.getElementById('storyModal').style.display='none'">إغلاق</button>
<h2 style="margin-top:6px; color:#fff;">خواطر أبوالقمر زمرد</h2>
<!-- قصتي مع الزمن (أولاً) -->
<div class="story-title" onclick="toggleStory('s5')">قصتي مع الزمن</div>
<div class="story" id="s5">
<p>عندما كان عام 2000 وهو ذروة شبابي وكان عمري حينها 27عام، صادقت إنسان عزيز وصدوق يحمل من العمل مافيها تجارب قد تحتوي وجود العالم بأكمله. 
    لم يكن تواجدنا طويل ولا كافي، لأن مقابلتنا دامت في مكان عام. ذات مرة جلسنا نسترجع الماضي للبحث عن المستقبل، وكل منا لم يبح بكل أسراره وحتى لو كانت مهمة. 
    ومن ذاك العام أطلقت على نفسي لقب <strong>(أبوالقمر زمرد)</strong>. وفي البدايات كان فقط مجرد اسمي الأول باللغة الإنجليزية كأشكال للمداعبة بالرسم وتجسيد أشخاص أو أماكن ونحوها. 
    ولكن كان كل منا يحمل جعبة من الماضي والحاضر والمستقبل مع محيطنا كما هو سائد بين معلم ومتعلم ومقرب ومنبوذ وبين صديق وعدو.</p>
<p>حينها رأيت أني قد افتقدت جميع محاور الحياة، ليس لأني فقدت الأمل ولكن جميع السبل قد سلكتها. خاصة وإني تعلمت الدين بالمتوسط كتخصص ديني معرفي، 
    ثم لم أرَ طريقًا في تكملة مراحل علوم الدين. فاتجهت إلى التجارة وحين ذاك تخرجت أحمل شهادة تسمى <strong>دبلوم ثانوي تجاري</strong>. 
    ثم التحقت بالجامعة وأشار كثير أن أكمل نفس المسار كما هو معتاد، لكني رفضت بدون مناقشة. 
    لأني حينها كان سبق لي أن غيرت الدراسة من تخصص إلى تخصص، فاتجهت للجامعة بتخصص الجغرافيا وهو علم يهتم بالكرة الأرضية وما حولها. 
    لكن بعد الانتظام لم يحالفني الحظ باستكمال الدراسة وبدأت النهاية بالجامعة في عام 2001. 
    فبعد مرور ست سنوات بعضها متقطع لنزول المعدل الأكاديمي تم طي قيدي لتعدي سنوات الدراسة حسب أنظمة الجامعة، وكنت في السنة الثالثة الفصل الدراسي الثاني.</p>
<p>وحين تم طي قيدي بدأت أنمي مهاراتي كما تكلمت عنه سابقًا وهو في عام 2000 حيث بدأت بأخذ فكرة عن العوالم مثل الرسم. 
    وتذكرت أن أول قصيدة لي كانت وأنا بسن 13 وكانت مرثية لأخوين لي توفوا إثر حريق وكانت أعمارهم لا تتجاوز السبع سنوات. 
    ولا أتذكرها، ولكن بعد سنين علمت أن والدي كان مفتخر ومعجب بها. 
    فقمت بعام 2000 أو بعده بقليل من السنوات بمراسلة الجريدة، وكانت أيام لم يكن فيها مثل الآن التواصل الإلكتروني. 
    وطلبت من محرر الجريدة إرسال رأيه عن هل عندي فعلًا قريحة الشعر أم أنها مجرد تجربة. 
    وكانت حين ذاك تسمى لا أذكرها في جريدة الجزيرة تقريبًا، صفحات شعبية تتناول كل ما يخص الشعر. 
    فتعلمت الكثير وأريد التعلم أكثر كما أخبر النبي صلى الله عليه وسلم فيما معناه إن صح الحديث: 
    <strong>اثنان لا يشبعان: طالب علم وطالب مال</strong>.</p>
<p><em>خاتمة مقترحة لإكمال السرد:</em></p>
<p>مرت السنوات وتبدلت طرق الوصول إلى الناس؛ فكانت شبكة الإنترنت والوسائط الاجتماعية نافذةً، وأدركت أن الكلمة الآن تصل أسرع ولكنها تحتاج إلى جهد أكبر لتظل مؤثرة. 
    بدأت أصقل كتاباتي، أنشر أكثر، وأتعلم تقنيات العرض الرقمي والتصميم. وما بدأ كاسمٍ للمداعبة تحول إلى هويةٍ أرغب أن أستثمرها لنشر حكايتي وتجربتي. 
    لم تختفِ الخيبات ولا النجاحات، لكنها باتت دروسًا أمدّتني بصبرٍ ومرونةٍ أمام تقلبات الحياة.</p>
<p>اليوم أرى أن الزمن ليس خصمًا بل شريكًا؛ كل لحظة منه تحفر فينا خبرة أو تفتح بابًا. أما شعري وكتابتي فقد أصبحا مرآةً أصفها يومًا بعد يوم، وإن أخطأت أعيد المحاولة وأتعلم. 
    وإن كانت البداية بسيطة، فالغاية أن تترك أثرًا ولو بسيطًا في قلب قارئٍ واحد. وهذه هي قصتي مع الزمن: رحلةُ فِقدٍ واكتشافٍ، جهدٌ وصبر، وأملٌ لا ينطفئ.</p>
</div>
<!-- بقية القصص (كما كانت) -->
<div class="story-title" onclick="toggleStory('s1')">قصة التنين الفضي</div>
<div class="story" id="s1"><p>.كان في قديم الزمان تنينٌ عظيم يملأ السماء بظلاله، لكنه لم يكن نارياً كما اعتاد الناس، بل كان تنيناً من الفضة، تتلألأ قشوره تحت ضوء القمر.
اختبأ بين الجبال بعد أن عمّت الأرض فوضى، حتى جاء اليوم الذي خفت فيه النور وانطفأت قلوب البشر بالخوف.
عندها نهض التنين الفضي من سباته، يزأر لا ليُرعب، بل ليبعث الأمل من جديد.
طار فوق القرى والأنهار، ونفث من صدره دخاناً مضيئاً كالنجوم، حتى عاد النور للأرض.
ومنذ ذلك الحين، قيل: كلما غاب الأمل، سيعود التنين الفضي ليذكّرنا أن الظلام لا يدوم أبداً.
</p></div>
<div class="story-title" onclick="toggleStory('s2')">قصة القمر والزمرد</div>
<div class="story" id="s2"><p>.جلس أبوالقمر على صخرة تطل على البحر، بيده أحجار زمردٍ نادرة حصل عليها من شعب المرجان.
رفعها نحو القمر، فإذا بالأشعة الفضية تنعكس عليها وتكوّن جسراً من نور يمتد فوق الأمواج.
سار فوقه بخطواتٍ مترددة، حتى وصل سطح القمر، فوضع الزمرد في قلبه.
ومنذ تلك الليلة أصبح للقمر إشعاع خاص، يمزج بين نوره الأبيض وصفاء الزمرد الأخضر، يُضيء دروب الحالمين ويحقق لهم أمنياتهم.
وهكذا صارت حكاية "القمر والزمرد" رمزاً لكل من يجرؤ على أن يحلم رغم المستحيل.
.</p></div>
<div class="story-title" onclick="toggleStory('s3')">قصة البحر الأزرق</div>
<div class="story" id="s3"><p>.في مساءٍ هادئ، جلس أبوالقمر عند البحر الأزرق، يسمع أنين الموج وكأنه حوارٌ خفي بين الماء والسماء.
اقتربت منه موجة عالية، ثم انسحبت تاركةً صدفة صغيرة عند قدميه.
فتحها فوجد بداخلها نجمة بحر تلمع بضياء غريب.
أحسّ أن البحر يحدثه قائلاً: أنا البحر الذي يخزن أسرار العابرين، فاحمل هذه الهدية تذكرةً بأن كل سرّ يوماً ما سيُكشف بنور الحقيقة.
فابتسم أبوالقمر، وعاد إلى بيته والنجمة في يده، وكلما نظر إليها تذكر أن البحر صديق لمن يصغي بصدق.
</p></div>
<div class="story-title" onclick="toggleStory('s4')">قصة زهرة الليل</div>
<div class="story" id="s4"><p>..في حديقة مظلمة، وبين أشجار صامتة، ظهرت زهرة لم يرها أحد من قبل.
كانت تتفتح فقط عند منتصف الليل، وتنشر عبيراً يملأ المكان بالسكينة.
اقترب أبوالقمر منها، فوضع يده عليها فسمع همساً: أنا زهرة الليل، خُلقتُ لأضيء القلوب لا العيون، فلا تبحث عني في النهار.
ومنذ تلك الليلة صار يزور الحديقة كل مساء، يكتب أشعاره بجوارها ويترك أحزانه بين أوراقها.
وهكذا أصبحت زهرة الليل رمزاً لكل ما لا يُرى في وضح النهار، لكنه يضيء القلوب في عتمة الحياة.

</p></div>
</div>
</div>
<div aria-hidden="true" class="modal" id="videoModal">
<span class="close" onclick="closeVideo()" title="إغلاق">×</span>
<div class="modal-content">
<iframe allow="autoplay; encrypted-media" allowfullscreen="" id="videoFrame" referrerpolicy="strict-origin-when-cross-origin" src=""></iframe>
</div>
</div>
<script>
/* فتح الفيديو */
function openVideo(url){
  var modal = document.getElementById('videoModal');
  var frame = document.getElementById('videoFrame');
  modal.style.display = 'flex';
  frame.src = url + (url.includes('?') ? '&autoplay=1' : '?autoplay=1');
}
function openModal(videoId){ openVideo('https://www.youtube.com/embed/' + videoId); }
function closeVideo(){ var modal = document.getElementById('videoModal'); var frame=document.getElementById('videoFrame'); modal.style.display='none'; frame.src=''; }

/* صوت الطيور */
const birdBtn=document.getElementById('bird-sound-btn');
const birdAudio=document.getElementById('bird-sound');
birdBtn.addEventListener('click',()=>{ if(birdAudio.paused){ birdAudio.play(); birdBtn.style.opacity=0.8; } else { birdAudio.pause(); birdBtn.style.opacity=1; } });

/* مكتبات */
function toggleLibrary(id){
  var el=document.getElementById(id);
  if(!el) return;
  el.style.display = (el.style.display==='flex') ? 'none' : 'flex';
}

/* خواطر */
function toggleStory(id){
  var s=document.getElementById(id);
  if(s) s.style.display = (s.style.display==='block') ? 'none' : 'block';
}

function togglePersonalStory(id){
  var s=document.getElementById(id);
  if(s) s.style.display = (s.style.display==='block') ? 'none' : 'block';
}
</script>
<div class="video-icon" onclick="openModal('DnLTWjRV0UE')">
<iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="" frameborder="0" height="315" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/tFdlhlmQ-ek?si=rE4SmsxeSsk4f5ld" title="YouTube video player" width="560"></iframe>
</div>
<!-- قائمة الدعم -->
<div class="footer-menu">
<p>💰 دعم عبر PayPal: <a href="https://paypal.me/abwalqmrzmrd" target="_blank">اضغط هنا</a></p>
<p>📧 تواصل: <a href="mailto:sakaker@outlook.com">sakaker@outlook.com</a></p>
<p>🔗 شارك: 
    <a href="https://wa.me/?text=شاهد+هذا+الموقع+https://sakakera-a11y.github.io/sakaker/" target="_blank">واتساب</a> | 
    <a href="https://twitter.com/intent/tweet?url=https://sakakera-a11y.github.io/sakaker/&amp;text=شاهد+هذا+الموقع" target="_blank">تويتر</a> | 
    <a href="https://www.facebook.com/sharer/sharer.php?u=https://sakakera-a11y.github.io/sakaker/" target="_blank">فيسبوك</a>
</p>
<p>⭐ تابعنا على <a href="https://www.facebook.com/AbwAlqmrZmrd/" target="_blank">فيسبوك</a></p>



<!-- مودال قصة فكاهية -->
<div class="modal" id="funnyStoryModal">
<div class="modal-content" onclick="event.stopPropagation()">
<span class="close" onclick="document.getElementById('funnyStoryModal').style.display='none'">×</span>
<h2>😂 قصة فكاهية</h2>
<p>كان رجل بخيل جدًا، ذهب إلى الطبيب يشكو من ألم في بطنه.<br/>
    فسأله الطبيب: "هل أكلت شيئًا غريبًا؟"<br/>
    قال البخيل: "نعم، أكلت طعامًا عند جاري!قيل إن أشعب خال الأصمعي.

عن سالم أنه قال لأشعب: إني أرى الشيطان ليتمثل على صورتك، وكان رآه بكرة، وأطعمه هريسة، ثم بعد ساعتين رآه مصفرا عاصبًا رأسه، بيده قصبة، قد تحامل إلى دار عبد الله بن عمرو بن عثمان.

قال الزبير: قيل لأشعب: نزوّجك؟ قال ابغوني امرأة أتجشأ في وجهها تشبع، وتأكل فخذ جرادة تنتخم.

قيل: أسلمته أمه عند بزاز، ثم قالت له: ما تعلمت؟ قال نصف الشغل، تعلمت النشر، وبقي الطي.

قيل: شوى رجل دجاجة، ثم ردها فسخنت، ثم ردها، فقال أشعب: هذه من آل فرعون «النار يعرضون عليها غدوا وعشيا».

قيل: لقي دينارًا فاشترى به قطيفة، ثم نادى: يا من ضاع منه قطيفة.

يقال: دعاه رجل، فقال: أنا خبير بكثرة جموعك، قال: لا أدعو أحدًا، فجاء، إذ طلع صبي، فقال أشعب: أين الشرط؟ قال: يا أبا العلاء! هو ابني، وفيه عشر خصال، أحدها: أنه لم يأكل مع ضيف، قال: كفى التسع لك، أدخله.

وعنه قال: أتتني جاريتي بدينار، فجعلته تحت المصلى، ثم جاءت بعد أيام تطلبه، فقلت: خذي ما ولد، فوجدت معه درهمًا فأخذت الولد، ثم عادت بعد جمعة وقد أخذته، فبكت، فقلت: مات النوبة في النفاس، فولولت، فقلت: صدقت بالولادة ولا تصدقين بالموت.

قال أبو عاصم: أوقفني ابن جريج على أشعب، فقال: ما بلغ من طمعك، قال: ما زفت امرأة إلا كنست بيتي رجاء أن تهدى إلي.

عن أبي عاصم: أن اشعب مرّ بمن يعمل طبقا، فقال: وسعه لعلهم يهدون لنا فيه، ومررت يومًا، فإذا هو ورائي، قلت: ما بك، قال: رأيت قلنسوتك مائلة، فقلت: لعلها تقع، فأخذها، قال: فأعطيته إياها.

قال أبو عبد الرحمن المقرئ: قال أشعب: ما خرجت في جنازة، فرأيت اثنين يتساران، إلا ظننت أن الميت أوصى لي بشيء.

قيل إنه كان يجيد الغناء. وقيل أنه مات سنة أربع وخمسين ومائة.

قال الشافعي : عبث الولدان يوما بأشعب فقال لهم : إن ههنا أناسا يفرقون الجوز - لطردهم عنه - فتسارع الصبيان إلى ذلك، فلما رآهم مسرعين قال : لعله حق فتبعهم.

قال له رجل : ما بلغ من طمعك ؟، فقال : ما زفات عروس بالمدينة إلا رجوت أن تزف إلي فأمسح داري وأنظف بابي واكنس بيتي.

اجتاز يوما برجل يصنع طبقا من قش فقال له : زد فيه طورا أو طورين لعله أن يهدى يوما لنا فيه هدية.

روى ابن عساكر أن أشعب غنى يوما لسالم بن عبد الله بن عمر قول بعض الشعراء:

مـضين بها والبدر يشبه وجههـا
مطهرة الأثواب والدين وافـر
لها حـسب زاكٍ وعــرض مهــذب
وعن كل مكروه من الأمر زاجر
من الخفرات البيض لم تلق ريبة
ولم يستملها عن تقى الله شاعر
فقال له سالم : أحسنت فزدنا، فغناه:

ألمت بنا والليل داج كـأنه
جناح غراب عنه قد نفض القطـرا
فقلت أعطار ثوى في رحالنا
وما علمت ليلى سوى ريحها عطرا
فقال له: أحسنت ولولا أن يتحدث الناس لأجزلت لك الجائزة، وإنك من الأمر لبمكان.الطبيب: "واضح، لأن معدتك لم تتعود على الأكل المجاني!"</p>
</div>
</div>
<!-- مودال نكت -->
<div class="modal" id="jokesModal">
<div class="modal-content" onclick="event.stopPropagation()">
<span class="close" onclick="document.getElementById('jokesModal').style.display='none'">×</span>
<h2>🤣 نكت</h2>
<p onclick="this.nextElementSibling.style.display='block';this.style.cursor='default';">- مرة واحد ذهب للطبيب قاله: دكتور كل ما أشرب شاي أحس بألم في عيني.<br/>- الطبيب: جرب شيل الملعقة من الكوب أول!</p>
<p style="display:none;color:#ffeb3b;">😂</p>
<p onclick="this.nextElementSibling.style.display='block';this.style.cursor='default';">- المدرس: ماذا فعل نابليون بعد ما مات؟<br/>- الطالب: كتبوا عنه في التاريخ!</p>
<p style="display:none;color:#ffeb3b;">😂</p>
<p onclick="this.nextElementSibling.style.display='block';this.style.cursor='default';">- مرة واحد ذهب للبقال وقال له: عندك سكر؟<br/>- البقال: لا والله عندي ضغط!</p>
<p style="display:none;color:#ffeb3b;">😂</p>
</div>
</div>
<!-- مودال حكايات الأغبياء -->
<div class="modal" id="stupidModal">
<div class="modal-content" onclick="event.stopPropagation()">
<span class="close" onclick="document.getElementById('stupidModal').style.display='none'">×</span>
<h2>🙃 حكايات الأغبياء</h2>
<h3>الحكاية الأولى</h3>
<p>غبي راح يشتري ساعة… سأله البائع: "رقمية ولا عادية؟"<br/>
    قال الغبي: "لا، أبغاها تدق وتعلّمني الوقت!"</p>
<hr/>
<h3>الحكاية الثانية</h3>
<p>واحد غبي راح للطبيب وقال له: "دكتور، عندي مشكلة بالنسيان."<br/>
    فسأله الدكتور: "منذ متى؟"<br/>
    رد الغبي: "منذ متى إيش؟"</p>
<hr/>
<h3>الحكاية الثالثة</h3>
<p>غبي وقف عند إشارة المرور، لمّا صارت خضراء… غمض عيونه ومشى 🚶‍♂️<br/>
    سألوه: "ليش غمضت عيونك؟"<br/>
    قال: "ما أبغى أشوف الحوادث!"</p>
<hr/>
<h3>الحكاية الرابعة</h3>
<p>مر رجل يحمل على حمار قوارير عسل، فوجد شخصين يقتتلان، فسألهم عن السبب.<br/>
    قالوا: "نحن راعيين غنم، فتمنيت أن تكون الغنم لي، وتمنى الثاني أن يكون له ذئاب فتأكل الغنم."<br/>
    فسكب الرجل العسل الذي معه وقال: "أسأل الله أن يكون دمي مثل هذا العسل إن لم تكونوا أغبياء!"</p>
</div>
</div>

<script>


document.addEventListener("DOMContentLoaded", function() {
  const icons = document.querySelectorAll('.icon-circle');
  let stopMovement = false; // حالة توقف الحركة

  // اجعل كل أيقونة مطلقة الموقع بحيث تتحرك بحرية
  icons.forEach(icon => {
    icon.style.position = "absolute";
    icon.style.zIndex = 1; // أيقونات أساسية تحت الأيقونات الفرعية
  });

  function random(min, max) {
    return Math.random() * (max - min) + min;
  }

  function floatIcons() {
    if (!stopMovement) { // الحركة فقط إذا لم تتوقف
      const containerWidth = document.documentElement.scrollWidth;
      const containerHeight = document.documentElement.scrollHeight;

      icons.forEach(icon => {
        if (!icon.classList.contains('active')) {
          const x = random(0, containerWidth - icon.offsetWidth);
          const y = random(0, containerHeight - icon.offsetHeight);
          const rotation = random(-15, 15);
          const scale = random(0.9, 1.1);

          icon.style.top = y + "px";
          icon.style.left = x + "px";
          icon.style.transform = `rotate(${rotation}deg) scale(${scale})`;
        }
      });
    }
  }

  // بدء الحركة المستمرة
  floatIcons();
  setInterval(floatIcons, 3000);

  icons.forEach(icon => {
    icon.addEventListener('click', (e) => {
      e.stopPropagation(); // منع تفعيل حدث document

      // توقف الحركة عند فتح الأيقونة
      stopMovement = true;

      // تحديد الأيقونة المضغوطة
      icons.forEach(i => i.classList.remove('active'));
      icon.classList.add('active');

      // إخفاء أي مكتبات فرعية مفتوحة
      document.querySelectorAll('.sub-icons').forEach(sub => {
        sub.style.display = 'none';
        sub.style.zIndex = 1; // إعادة ترتيب z-index للأيقونات الفرعية المخفية
      });

      // عرض الأيقونات الفرعية لهذه الأيقونة
      let subIcons = icon.querySelector('.sub-icons');
      if (subIcons) {
        subIcons.style.display = 'block';
        const rect = icon.getBoundingClientRect();
        subIcons.style.position = 'fixed';
        subIcons.style.top = rect.bottom + 'px';
        subIcons.style.left = rect.left + 'px';
        subIcons.style.zIndex = 9999; // تظل فوق كل الأيقونات الأخرى
      }
    });
  });

  // عند الضغط خارج أيقونة -> إخفاء الفرعية واستئناف الحركة
  document.addEventListener('click', () => {
    icons.forEach(i => i.classList.remove('active'));
    document.querySelectorAll('.sub-icons').forEach(sub => sub.style.display = 'none');
    stopMovement = false; // إعادة الحركة
  });

  window.addEventListener('resize', floatIcons);
});
</script>
<style>
.icon-circle {
  transition: all 2s ease-in-out;
}
.sub-icons {
  transition: all 0.5s ease-in-out;
}
</style>
<script>
(function(){
  const canvas = document.getElementById('pongCanvas');
  const ctx = canvas.getContext('2d');

// نظام المستويات
let level = 1;
function updateLevel() {
  const playerScore = parseInt(scoreP_el.textContent);
  const aiScore = parseInt(scoreA_el.textContent);
  const total = playerScore + aiScore;
  let newLevel = Math.floor(total / 5) + 1;
  if (newLevel !== level) {
    level = newLevel;
    document.getElementById('levelLabel').textContent = "المستوى: " + level;
    showLevelMessage("🎯 مستوى جديد: " + level);
  }
}

function showLevelMessage(msg) {
  const levelMsg = document.getElementById('levelMsg');
  levelMsg.textContent = msg;
  levelMsg.style.display = 'block';
  levelMsg.style.background = 'rgba(0,0,0,0.7)';
  levelMsg.style.padding = '8px 12px';
  levelMsg.style.margin = '10px auto';
  levelMsg.style.borderRadius = '8px';
  setTimeout(() => { levelMsg.style.display = 'none'; }, 2000);
}

  const scoreP_el = document.getElementById('scoreP');
  const scoreA_el = document.getElementById('scoreA');
  const pauseBtn = document.getElementById('pongPauseBtn');
  const closeBtn = document.getElementById('pongCloseBtn');
  const startBtn = document.getElementById('startBtn');
  const ui = document.getElementById('pongUi');
  const levelMsg = document.getElementById('levelMsg');

  let state = { running: false, playerScore: 0, aiScore: 0, level: 1 };
  const paddle = { w: 80, h: 10, x: 0, y: 0 };
  const ai = { w: 80, h: 10, x: 0, y: 0, speed: 5 };
  const ball = { x:0,y:0,r:7,vx:0,vy:0,speed:4 };

  function fitCanvas(){ canvas.width = canvas.clientWidth; canvas.height = canvas.clientHeight; }
  fitCanvas();
  window.addEventListener('resize', fitCanvas);

  function resetPositions(){
    paddle.x = (canvas.width-paddle.w)/2;
    paddle.y = canvas.height-20;
    ai.x = (canvas.width-ai.w)/2;
    ai.y = 10;
    ball.x = canvas.width/2;
    ball.y = canvas.height/2;
    const dirX = (Math.random()<0.5?-1:1);
    const dirY = (Math.random()<0.5?-1:1);
    ball.vx = dirX * ball.speed;
    ball.vy = dirY * ball.speed;
  }

  function pointerMove(x){
    const rect = canvas.getBoundingClientRect();
    const cx = x-rect.left;
    const half = paddle.w/2;
    paddle.x = Math.min(Math.max(0, cx-half), canvas.width-paddle.w);
  }

  canvas.addEventListener('touchmove', e=>{ e.preventDefault(); pointerMove(e.touches[0].clientX); }, {passive:false});
  canvas.addEventListener('mousemove', e=>pointerMove(e.clientX));

  function update(){
    if(!state.running) return;
    ball.x += ball.vx; ball.y += ball.vy;
    if(ball.x-ball.r<0||ball.x+ball.r>canvas.width) ball.vx*=-1;

    if(ball.y+ball.r>=paddle.y && ball.x>=paddle.x && ball.x<=paddle.x+paddle.w){ ball.vy = -Math.abs(ball.vy); }
    if(ball.y-ball.r<=ai.y+ai.h && ball.x>=ai.x && ball.x<=ai.x+ai.w){ ball.vy = Math.abs(ball.vy); }

    if(ball.y-ball.r>canvas.height){ state.aiScore++; scoreA_el.textContent=state.aiScore; resetPositions(); }
    if(ball.y+ball.r<0){ state.playerScore++; scoreP_el.textContent=state.playerScore; if(state.playerScore % 5 === 0){ state.level++; paddle.w = Math.max(30, paddle.w * 0.85); ball.speed *= 1.15; showLevel(state.level); } resetPositions(); }

    ai.x += Math.sign(ball.x-(ai.x+ai.w/2))*ai.speed;
  }

  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle='#4dd0e1'; ctx.fillRect(paddle.x,paddle.y,paddle.w,paddle.h);
    ctx.fillStyle='#ff5252'; ctx.fillRect(ai.x,ai.y,ai.w,ai.h);
    ctx.beginPath(); ctx.fillStyle='#ffeb3b'; ctx.arc(ball.x,ball.y,ball.r,0,Math.PI*2); ctx.fill();
  }

  function loop(){ if(state.running){ update(); draw(); requestAnimationFrame(loop);} }

  pauseBtn.addEventListener('click', ()=>{ state.running=!state.running; if(state.running) loop(); });
  closeBtn.addEventListener('click', ()=>{ state.running=false; ui.style.display="none"; startBtn.style.display="block"; });
  startBtn.addEventListener('click', ()=>{ startBtn.style.display="none"; ui.style.display="flex"; state.running=true; state.playerScore=0; state.aiScore=0; state.level=1; paddle.w=80; ball.speed=4; fitCanvas(); resetPositions(); loop(); });

  function showLevel(lvl){ levelMsg.textContent = "المستوى " + lvl; levelMsg.style.display="block"; setTimeout(()=>{ levelMsg.style.display="none"; },2000); }
})();
</script>
<audio id="hitSound" preload="auto" src="https://www.soundjay.com/button/sounds/button-16.mp3"></audio>
<audio id="scoreSound" preload="auto" src="https://www.soundjay.com/button/sounds/button-10.mp3"></audio>
</body>

<div id="cvIcon" onclick="document.getElementById('cvPage').style.display='block'">SV Abwalqmrzmrd</div>
<div id="cvPage">
<div class="cv-content">
<h1>التعريف بالموقع</h1>
<p>الاسم الذي اخترته لكتاباتي وأشعاري ومشاركتي خاصه في فيس بوك هو ( أبوالقمر زمرد ) وهومتواجد معي منذ 25 عام والآن أكمل بعض أعمالي بتصميم الموقع مع مساعده الذكاء الاصطناعي، ليكون هادف وبناء بعيد عن الطرح المعتاد ويحتوي فوائد ومتعه وتسليه مختارة من الطروحات المحملة على النت أو من إضافتي، والشكر لكل من ساهم في بناء هذا الموقع حتى لو بمجرد الدعاء (11/9/2025 أبوالقمر زمرد)</p>
<button class="closeCV" onclick="document.getElementById('cvPage').style.display='none'">خروج</button>
</div>
</div>
</div>
</div>
